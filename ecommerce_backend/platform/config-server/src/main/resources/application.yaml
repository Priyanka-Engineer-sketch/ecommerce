server:
  port: 8888

spring:
  application:
    name: config-server

  # profile is optional here; git backend is default when server.git is configured
  # profiles:
  #   active: git

  security:
    user:
      name: ${CONFIG_USER:config}
      password: ${CONFIG_PASS:configpass}

  cloud:
    config:
      server:
        git:
          # 1️⃣ Make sure this URL is **complete and correct**
          uri: ${CONFIG_GIT_URI:https://github.com/Priyanka-Engineer-sketch/ecom-config.git}
          username: ${CONFIG_GIT_USERNAME:}
          password: ${CONFIG_GIT_PASSWORD:}
          default-label: ${CONFIG_GIT_BRANCH:main}
          # 2️⃣ Optional: path inside repo where app configs are stored
          #    If you keep configs in root, leave this blank or remove it.
          #    If you use a folder like "config", then set CONFIG_GIT_PATHS=config
          search-paths: ${CONFIG_GIT_PATHS:}
          clone-on-start: true
          skip-ssl-validation: ${CONFIG_GIT_SKIP_SSL:false}
          timeout: ${CONFIG_GIT_TIMEOUT:5}
          refresh-rate: 300
          force-pull: ${CONFIG_GIT_FORCE_PULL:false}
          delete-untracked-branches: true

encrypt:
  key: ${CONFIG_ENCRYPT_KEY:}

logging:
  level:
    root: INFO
    org.springframework.cloud.config.server: INFO
    org.eclipse.jgit: INFO

management:
  endpoints:
    web:
      exposure:
        include: health,info,metrics,prometheus
  endpoint:
    health:
      probes:
        enabled: true

eureka:
  client:
    register-with-eureka: ${EUREKA_REGISTER:false}
    fetch-registry: ${EUREKA_FETCH:false}
    serviceUrl:
      defaultZone: ${EUREKA_SERVER_URL:http://localhost:8761/eureka}
  instance:
    prefer-ip-address: true
