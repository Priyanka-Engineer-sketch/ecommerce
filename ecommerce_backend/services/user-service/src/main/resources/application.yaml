spring:
  application:
    name: user-service
  profiles:
    active: dev
  config:
    import: "optional:configserver:"   # URL supplied via env SPRING_CONFIG_IMPORT


#server:
#  port: 8081
#
#  spring:
#    application:
#      name: user-service
#
#    datasource:
#      url: jdbc:postgresql://localhost:${DB_PORT:5433}/ecommerce_userdb
#      username: ${DB_USER:postgres}
#      password: ${DB_PASS:postgres}
#      driver-class-name: org.postgresql.Driver
#
#    jpa:
#      show-sql: true
#      hibernate:
#        ddl-auto: update
#      properties:
#        hibernate:
#          format_sql: true
#          dialect: org.hibernate.dialect.PostgreSQLDialect
#
#    data:
#      redis:
#        host: ${REDIS_HOST:localhost}
#        port: ${REDIS_PORT:6379}
#
#    mail:
#      host: ${MAIL_HOST:localhost}
#      port: ${MAIL_PORT:587}
#      username: ${MAIL_USER:dummy}
#      password: ${MAIL_PASS:dummy}
#      properties:
#        mail:
#          smtp:
#            auth: true
#            starttls:
#              enable: true
#              required: true
#
#    kafka:
#      bootstrap-servers: ${KAFKA_BOOTSTRAP:localhost:9092}
#      producer:
#        key-serializer: org.apache.kafka.common.serialization.StringSerializer
#        value-serializer: org.springframework.kafka.support.serializer.JsonSerializer
#        properties:
#          enable.idempotence: true
#          acks: all
#          retries: 5
#          max.in.flight.requests.per.connection: 5
#          spring.json.add.type.headers: false
#
#  # ================================
#  # JWT CONFIG â€” MUST MATCH GATEWAY
#  # ================================
#  security:
#    jwt:
#      issuer: ecomm-user-service
#      audience: ecomm-clients
#
#      # ðŸ” HS256 Secret (manage via env variable in prod)
#      # MUST be >= 32 bytes, else JJWT rejects it.
#      hmac-secret: ${JWT_ACCESS_SECRET:CHANGE_ME_MIN_32_BYTES_SECRET}
#
#      # Expiration times
#      access-exp-seconds: 900        # 15 minutes
#      refresh-exp-seconds: 2592000   # 30 days
#
#  # ================================
#  # Eureka Registration
#  # ================================
#  eureka:
#    client:
#      register-with-eureka: true
#      fetch-registry: true
#      healthcheck:
#        enabled: true
#      serviceUrl:
#        defaultZone: ${EUREKA_SERVER_URL:http://localhost:8761/eureka}
#
#    instance:
#      prefer-ip-address: true
#      instance-id: ${spring.application.name}:${spring.application.instance_id:${random.value}}
#      lease-renewal-interval-in-seconds: 10
#      lease-expiration-duration-in-seconds: 30
#      metadata-map:
#        version: 1.0.0
#        zone: local
#
#  # ================================
#  # LOGGING
#  # ================================
#  logging:
#    level:
#      com.ecomm: DEBUG
#      org.springframework.boot.autoconfigure.jdbc: DEBUG
